{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/base64.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/helpers.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/WalletRequest.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/shared/AccountAuthenticatorInput.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/shared/AccountInfo.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/shared/PublicKey.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/shared/AccountInput.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/shared/DappInfo.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/shared/EntryFunctionArgument.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/shared/Signature.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/shared/TransactionPayloadInput.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/connect/request.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/UserResponse.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/WalletResponse.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/connect/response.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/disconnect/request.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/disconnect/response.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/getConnectedAccounts/request.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/getConnectedAccounts/response.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/isConnected/request.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/isConnected/response.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/signAndSubmitTransaction/request.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/signAndSubmitTransaction/response.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/signMessage/request.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/signMessage/response.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/signTransaction/request.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/features/signTransaction/response.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/messages/common.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/messages/background.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-api/src/messages/prompt.ts"],"sourcesContent":["// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nexport function base64ToBytes(base64: string) {\n  const binaryString = atob(base64);\n  return Uint8Array.from(binaryString, (m) => m.charCodeAt(0));\n}\n\nexport function bytesToBase64(bytes: Uint8Array) {\n  const binaryString = String.fromCharCode(...bytes);\n  return btoa(binaryString);\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Network, NetworkToChainId, Serializer } from '@aptos-labs/ts-sdk';\n\nexport type SerializeFn<T> = (serializer: Serializer, value: T) => void;\nexport type DeserializeFn<T> = (deserializer: Deserializer) => T;\n\nexport function chainIdToNetwork(chainId: number): Network {\n  switch (chainId) {\n    case NetworkToChainId.mainnet:\n      return Network.MAINNET;\n    case NetworkToChainId.testnet:\n      return Network.TESTNET;\n    default:\n      // TODO: fetch Devnet's chain id and compare, otherwise throw error\n      return Network.DEVNET;\n  }\n}\n\nexport function isSupportedNetwork(network: string): network is Network {\n  return [Network.MAINNET, Network.TESTNET, Network.DEVNET].includes(network as Network);\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { DappInfo, deserializeDappInfo, serializeDappInfo } from './shared';\nimport { DeserializeFn, SerializeFn } from './helpers';\n\nexport interface WalletRequest<RequestName extends string, Version extends number> {\n  dappInfo: DappInfo;\n  name: RequestName;\n  version: Version;\n}\n\nexport interface WalletRequestWithArgs<RequestName extends string, Version extends number, TArgs>\n  extends WalletRequest<RequestName, Version> {\n  args: TArgs;\n}\n\nexport interface SerializedWalletRequest<RequestName extends string = string, Version extends number = number> {\n  data: Uint8Array;\n  name: RequestName;\n  version: Version;\n}\n\nexport function serializeWalletRequest<RequestName extends string, Version extends number>({\n  dappInfo,\n  name,\n  version,\n}: WalletRequest<RequestName, Version>): SerializedWalletRequest<RequestName, Version> {\n  const serializer = new Serializer();\n  serializeDappInfo(serializer, dappInfo);\n  const data = serializer.toUint8Array();\n  return { data, name, version };\n}\n\nexport function deserializeWalletRequest<RequestName extends string, Version extends number>({\n  data,\n  name,\n  version,\n}: SerializedWalletRequest<RequestName, Version>): WalletRequest<RequestName, Version> {\n  const deserializer = new Deserializer(data);\n  const dappInfo = deserializeDappInfo(deserializer);\n  return { dappInfo, name, version };\n}\n\nexport function serializeWalletRequestWithArgs<RequestName extends string, Version extends number, TArgs>(\n  { args, dappInfo, name, version }: WalletRequestWithArgs<RequestName, Version, TArgs>,\n  serializeArgsFn: SerializeFn<TArgs>,\n): SerializedWalletRequest<RequestName, Version> {\n  const serializer = new Serializer();\n  serializeDappInfo(serializer, dappInfo);\n  serializeArgsFn(serializer, args);\n  const data = serializer.toUint8Array();\n  return { data, name, version };\n}\n\nexport function deserializeWalletRequestWithArgs<RequestName extends string, Version extends number, TArgs>(\n  { data, name, version }: SerializedWalletRequest<RequestName, Version>,\n  deserializeArgsFn: DeserializeFn<TArgs>,\n): WalletRequestWithArgs<RequestName, Version, TArgs> {\n  const deserializer = new Deserializer(data);\n  const dappInfo = deserializeDappInfo(deserializer);\n  const args = deserializeArgsFn(deserializer);\n  return { args, dappInfo, name, version };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { AccountAddress, AccountAuthenticator, Deserializer, Serializer } from '@aptos-labs/ts-sdk';\n\nexport interface AccountAuthenticatorInput {\n  address: AccountAddress;\n  authenticator: AccountAuthenticator;\n}\n\nexport function serializeAccountAuthenticatorInput(serializer: Serializer, value: AccountAuthenticatorInput) {\n  serializer.serialize(value.address);\n  serializer.serialize(value.authenticator);\n}\n\nexport function deserializeAccountAuthenticatorInput(deserializer: Deserializer): AccountAuthenticatorInput {\n  const address = deserializer.deserialize(AccountAddress);\n  const authenticator = deserializer.deserialize(AccountAuthenticator);\n  return { address, authenticator };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { AccountAddress, Deserializer, PublicKey, Serializer } from '@aptos-labs/ts-sdk';\nimport { bytesToBase64 } from '../base64';\nimport { deserializePublicKey, serializePublicKey } from './PublicKey';\n\nexport interface AccountInfo {\n  address: AccountAddress;\n  name?: string;\n  publicKey: PublicKey;\n}\n\nexport function serializeAccountInfo(serializer: Serializer, value: AccountInfo) {\n  serializer.serialize(value.address);\n  serializePublicKey(serializer, value.publicKey);\n  serializer.serializeStr(value.name ?? '');\n}\n\nexport function deserializeAccountInfo(deserializer: Deserializer): AccountInfo {\n  const address = deserializer.deserialize(AccountAddress);\n  const publicKey = deserializePublicKey(deserializer);\n  const name = deserializer.deserializeStr();\n  return {\n    address,\n    publicKey,\n    ...(name.length > 0 ? { name } : undefined),\n  };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AnyPublicKey,\n  Deserializer,\n  Ed25519PublicKey,\n  MultiEd25519PublicKey,\n  MultiKey,\n  PublicKey,\n  Serializer,\n  SigningScheme,\n} from '@aptos-labs/ts-sdk';\n\nexport function serializePublicKey(serializer: Serializer, value: PublicKey) {\n  if (value instanceof Ed25519PublicKey) {\n    serializer.serializeU32AsUleb128(SigningScheme.Ed25519);\n  } else if (value instanceof MultiEd25519PublicKey) {\n    serializer.serializeU32AsUleb128(SigningScheme.MultiEd25519);\n  } else if (value instanceof AnyPublicKey) {\n    serializer.serializeU32AsUleb128(SigningScheme.SingleKey);\n  } else if (value instanceof MultiKey) {\n    serializer.serializeU32AsUleb128(SigningScheme.MultiKey);\n  } else {\n    throw new Error('Unexpected public key type');\n  }\n  serializer.serialize(value);\n}\n\nexport function deserializePublicKey(deserializer: Deserializer): PublicKey {\n  const signingScheme = deserializer.deserializeUleb128AsU32();\n  switch (signingScheme) {\n    case SigningScheme.Ed25519:\n      return deserializer.deserialize(Ed25519PublicKey);\n    case SigningScheme.MultiEd25519:\n      return deserializer.deserialize(MultiEd25519PublicKey);\n    case SigningScheme.SingleKey:\n      return deserializer.deserialize(AnyPublicKey);\n    case SigningScheme.MultiKey:\n      return deserializer.deserialize(MultiKey);\n    default:\n      throw new Error(`Unknown signing scheme: ${signingScheme}`);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { AccountAddress, Deserializer, PublicKey, Serializer } from '@aptos-labs/ts-sdk';\nimport { deserializePublicKey, serializePublicKey } from './PublicKey';\n\nexport interface AccountInput {\n  address: AccountAddress;\n  publicKey?: PublicKey;\n}\n\nexport function serializeAccountInput(serializer: Serializer, value: AccountInput) {\n  serializer.serialize(value.address);\n  serializer.serializeBool(value.publicKey !== undefined);\n  if (value.publicKey) {\n    serializePublicKey(serializer, value.publicKey);\n  }\n}\n\nexport function deserializeAccountInput(deserializer: Deserializer): AccountInput {\n  const address = deserializer.deserialize(AccountAddress);\n  const hasPublicKey = deserializer.deserializeBool();\n  const publicKey = hasPublicKey ? deserializePublicKey(deserializer) : undefined;\n  return { address, publicKey };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\n\nexport interface DappInfo {\n  domain: string;\n  imageURI?: string;\n  name: string;\n}\n\nexport function serializeDappInfo(serializer: Serializer, value: DappInfo) {\n  serializer.serializeStr(value.domain);\n  serializer.serializeStr(value.name);\n  serializer.serializeBool(value.imageURI !== undefined);\n  if (value.imageURI !== undefined) {\n    serializer.serializeStr(value.imageURI);\n  }\n}\n\nexport function deserializeDappInfo(deserializer: Deserializer): DappInfo {\n  const domain = deserializer.deserializeStr();\n  const name = deserializer.deserializeStr();\n  const hasImageUri = deserializer.deserializeBool();\n  const imageURI = hasImageUri ? deserializer.deserializeStr() : undefined;\n  return { domain, imageURI, name };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  Deserializer,\n  EntryFunctionArgumentTypes,\n  FixedBytes,\n  Serializer,\n  SimpleEntryFunctionArgumentTypes,\n} from '@aptos-labs/ts-sdk';\n\nexport type EntryFunctionArgument = EntryFunctionArgumentTypes | SimpleEntryFunctionArgumentTypes;\n\n/* eslint-disable @typescript-eslint/no-shadow */\nexport enum EntryFunctionArgumentVariant {\n  Undefined,\n  Array,\n  String,\n  Uint8Array,\n  AccountAddress,\n  FixedBytes,\n}\n\n/* eslint-enable @typescript-eslint/no-shadow */\n\nexport function serializeEntryFunctionArgument(serializer: Serializer, argument: EntryFunctionArgument) {\n  // undefined | null -> undefined\n  if (argument === undefined || argument === null) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Undefined);\n    return;\n  }\n\n  // Array -> Array\n  if (Array.isArray(argument)) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Array);\n    serializer.serializeU32AsUleb128(argument.length);\n    for (const subArgument of argument) {\n      serializeEntryFunctionArgument(serializer, subArgument);\n    }\n    return;\n  }\n\n  // boolean | number | bigint | string -> string\n  if (\n    typeof argument === 'string' ||\n    typeof argument === 'number' ||\n    typeof argument === 'boolean' ||\n    typeof argument === 'bigint'\n  ) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.String);\n    serializer.serializeStr(argument.toString());\n    return;\n  }\n\n  // Uint8Array -> Uint8Array\n  if (argument instanceof Uint8Array) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Uint8Array);\n    serializer.serializeBytes(argument);\n    return;\n  }\n\n  // ArrayBuffer -> Uint8Array\n  if (argument instanceof ArrayBuffer) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Uint8Array);\n    serializer.serializeBytes(new Uint8Array(argument));\n    return;\n  }\n\n  // MoveVector -> Array\n  if ('values' in argument) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Array);\n    serializer.serializeU32AsUleb128(argument.values.length);\n    for (const subArgument of argument.values) {\n      serializeEntryFunctionArgument(serializer, subArgument);\n    }\n    return;\n  }\n\n  // AccountAddress -> AccountAddress\n  if ('data' in argument) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.AccountAddress);\n    serializer.serialize(argument);\n    return;\n  }\n\n  // Empty MoveOption -> undefined\n  if (argument.value === undefined) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Undefined);\n    serializer.serialize(argument);\n    return;\n  }\n\n  // FixedBytes -> FixedBytes\n  if (argument.value instanceof Uint8Array) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.FixedBytes);\n    serializer.serializeBytes(argument.value);\n    return;\n  }\n\n  // Bool | U8 | U16 | U32 | U64 | U128 | U256 | MoveString -> string\n  serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.String);\n  serializer.serializeStr(argument.value.toString());\n}\n\nexport function deserializeEntryFunctionArgument(deserializer: Deserializer): EntryFunctionArgument {\n  const variant = deserializer.deserializeUleb128AsU32() as EntryFunctionArgumentVariant;\n\n  switch (variant) {\n    // undefined | null | empty MoveOption\n    case EntryFunctionArgumentVariant.Undefined: {\n      return undefined;\n    }\n    // Array | MoveVector\n    case EntryFunctionArgumentVariant.Array: {\n      const length = deserializer.deserializeUleb128AsU32();\n      const args: (EntryFunctionArgumentTypes | SimpleEntryFunctionArgumentTypes)[] = [];\n      for (let i = 0; i < length; i += 1) {\n        const argument = deserializeEntryFunctionArgument(deserializer);\n        args.push(argument);\n      }\n      return args;\n    }\n    // Uint8Array | ArrayBuffer | FixedBytes\n    case EntryFunctionArgumentVariant.Uint8Array: {\n      return deserializer.deserializeBytes();\n    }\n    // AccountAddress\n    case EntryFunctionArgumentVariant.AccountAddress: {\n      return deserializer.deserialize(AccountAddress);\n    }\n    // Bool | U8 | U16 | U32 | U64 | U128 | U256 | MoveString\n    case EntryFunctionArgumentVariant.String: {\n      return deserializer.deserializeStr();\n    }\n    // FixedBytes (custom serialization)\n    case EntryFunctionArgumentVariant.FixedBytes: {\n      const bytes = deserializer.deserializeBytes();\n      return new FixedBytes(bytes);\n    }\n    default: {\n      throw new Error('Unexpected variant');\n    }\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AnySignature,\n  Deserializer,\n  Ed25519Signature,\n  MultiEd25519Signature,\n  // This type got renamed in the zeta branch, commenting out until it's synced with main\n  // MultiSignature,\n  Serializer,\n  Signature,\n  SigningScheme,\n} from '@aptos-labs/ts-sdk';\n\nexport function serializeSignature(serializer: Serializer, value: Signature) {\n  if (value instanceof Ed25519Signature) {\n    serializer.serializeU32AsUleb128(SigningScheme.Ed25519);\n  } else if (value instanceof MultiEd25519Signature) {\n    serializer.serializeU32AsUleb128(SigningScheme.MultiEd25519);\n  } else if (value instanceof AnySignature) {\n    serializer.serializeU32AsUleb128(SigningScheme.SingleKey);\n    // } else if (value instanceof MultiSignature) {\n    //   serializer.serializeU32AsUleb128(SigningScheme.MultiKey);\n  } else {\n    throw new Error('Unexpected signature type');\n  }\n  serializer.serialize(value);\n}\n\nexport function deserializeSignature(deserializer: Deserializer) {\n  const signingScheme = deserializer.deserializeUleb128AsU32();\n  switch (signingScheme) {\n    case SigningScheme.Ed25519:\n      return deserializer.deserialize(Ed25519Signature);\n    case SigningScheme.MultiEd25519:\n      return deserializer.deserialize(MultiEd25519Signature);\n    case SigningScheme.SingleKey:\n      return deserializer.deserialize(AnySignature);\n    // case SigningScheme.MultiKey:\n    //   return deserializer.deserialize(MultiSignature);\n    default:\n      throw new Error(`Unknown signing scheme: ${signingScheme}`);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  deserializeFromScriptArgument,\n  Deserializer,\n  Hex,\n  InputGenerateTransactionPayloadData,\n  MoveFunctionId,\n  parseTypeTag,\n  ScriptFunctionArgumentTypes,\n  Serializer,\n  TypeArgument,\n  TypeTag,\n} from '@aptos-labs/ts-sdk';\nimport {\n  deserializeEntryFunctionArgument,\n  EntryFunctionArgument,\n  serializeEntryFunctionArgument,\n} from './EntryFunctionArgument';\n\nexport enum TransactionPayloadInputVariant {\n  EntryFunction,\n  Script,\n  Multisig,\n}\n\n// region Utils\n\nfunction serializeTypeArguments(serializer: Serializer, typeArguments: TypeArgument[]) {\n  serializer.serializeU32AsUleb128(typeArguments.length);\n  for (const typeArgument of typeArguments) {\n    const typeTag =\n      typeof typeArgument === 'string' ? parseTypeTag(typeArgument, { allowGenerics: true }) : typeArgument;\n    serializer.serialize(typeTag);\n  }\n}\n\nfunction deserializeTypeArguments(deserializer: Deserializer) {\n  const typeArguments: TypeTag[] = [];\n  const typeArgumentsLength = deserializer.deserializeUleb128AsU32();\n  for (let i = 0; i < typeArgumentsLength; i += 1) {\n    const typeTag = deserializer.deserialize(TypeTag);\n    typeArguments.push(typeTag);\n  }\n  return typeArguments;\n}\n\nfunction serializeEntryFunctionArguments(serializer: Serializer, functionArguments: EntryFunctionArgument[]) {\n  serializer.serializeU32AsUleb128(functionArguments.length);\n  for (const functionArgument of functionArguments) {\n    serializeEntryFunctionArgument(serializer, functionArgument);\n  }\n}\n\nfunction deserializeEntryFunctionArguments(deserializer: Deserializer) {\n  const functionArgumentsLength = deserializer.deserializeUleb128AsU32();\n  const functionArguments: EntryFunctionArgument[] = [];\n  for (let i = 0; i < functionArgumentsLength; i += 1) {\n    const functionArgument = deserializeEntryFunctionArgument(deserializer);\n    functionArguments.push(functionArgument);\n  }\n  return functionArguments;\n}\n\n// endregion\n\nexport function serializeTransactionPayloadInput(serializer: Serializer, value: InputGenerateTransactionPayloadData) {\n  if ('multisigAddress' in value) {\n    serializer.serializeU32AsUleb128(TransactionPayloadInputVariant.Multisig);\n    serializer.serializeStr(value.function);\n    serializeEntryFunctionArguments(serializer, value.functionArguments);\n    serializeTypeArguments(serializer, value.typeArguments ?? []);\n    const multisigAddress = AccountAddress.from(value.multisigAddress);\n    serializer.serialize(multisigAddress);\n  } else if ('function' in value) {\n    serializer.serializeU32AsUleb128(TransactionPayloadInputVariant.EntryFunction);\n    serializer.serializeStr(value.function);\n    serializeEntryFunctionArguments(serializer, value.functionArguments);\n    serializeTypeArguments(serializer, value.typeArguments ?? []);\n    // TODO: possibly serialize ABI?\n  } else {\n    serializer.serializeU32AsUleb128(TransactionPayloadInputVariant.Script);\n    const bytecode = Hex.fromHexInput(value.bytecode);\n    serializer.serializeBytes(bytecode.toUint8Array());\n    serializer.serializeU32AsUleb128(value.functionArguments.length);\n    for (const argument of value.functionArguments) {\n      argument.serializeForScriptFunction(serializer);\n    }\n    serializeTypeArguments(serializer, value.typeArguments ?? []);\n  }\n}\n\nexport function deserializeTransactionPayloadInput(deserializer: Deserializer): InputGenerateTransactionPayloadData {\n  const variant = deserializer.deserializeUleb128AsU32();\n  switch (variant) {\n    case TransactionPayloadInputVariant.Multisig: {\n      const functionId = deserializer.deserializeStr() as MoveFunctionId;\n      const functionArguments = deserializeEntryFunctionArguments(deserializer);\n      const typeArguments = deserializeTypeArguments(deserializer);\n      const multisigAddress = deserializer.deserialize(AccountAddress);\n      return {\n        function: functionId,\n        functionArguments,\n        multisigAddress,\n        typeArguments,\n      };\n    }\n    case TransactionPayloadInputVariant.EntryFunction: {\n      const functionId = deserializer.deserializeStr() as MoveFunctionId;\n      const functionArguments = deserializeEntryFunctionArguments(deserializer);\n      const typeArguments = deserializeTypeArguments(deserializer);\n      return {\n        function: functionId,\n        functionArguments,\n        typeArguments,\n      };\n    }\n    case TransactionPayloadInputVariant.Script: {\n      const bytecode = deserializer.deserializeBytes();\n      const functionArgumentsLength = deserializer.deserializeUleb128AsU32();\n      const functionArguments: ScriptFunctionArgumentTypes[] = [];\n      for (let i = 0; i < functionArgumentsLength; i += 1) {\n        const argument = deserializeFromScriptArgument(deserializer);\n        functionArguments.push(argument as ScriptFunctionArgumentTypes);\n      }\n      const typeArguments = deserializeTypeArguments(deserializer);\n      return {\n        bytecode,\n        functionArguments,\n        typeArguments,\n      };\n    }\n    default: {\n      throw new Error('Unexpected variant');\n    }\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { DappInfo } from '../../shared';\nimport {\n  deserializeWalletRequestWithArgs,\n  SerializedWalletRequest,\n  serializeWalletRequestWithArgs,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface ConnectRequest extends WalletRequest<ConnectRequest.RequestName, ConnectRequest.SupportedVersions> {\n  args: ConnectRequest.Args;\n}\n\nexport namespace ConnectRequest {\n  export const name = 'connect' as const;\n  export type RequestName = typeof name;\n\n  export const supportedVersions = [1, 2] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n  export const currentVersion = 2 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  // region Args\n\n  export type Args = {\n    dappEd25519PublicKeyB64?: string;\n    dappId?: string;\n  };\n\n  export function serializeArgs(serializer: Serializer, value: Args) {\n    serializer.serializeOptionStr(value.dappId);\n    serializer.serializeOptionStr(value.dappEd25519PublicKeyB64);\n  }\n\n  export function deserializeArgs(deserializer: Deserializer, version: SupportedVersions): Args {\n    if (version === 1) {\n      return {};\n    }\n\n    const dappId = deserializer.deserializeOptionStr();\n    const dappEd25519PublicKeyB64 = deserializer.deserializeOptionStr();\n    return { dappEd25519PublicKeyB64, dappId };\n  }\n\n  // endregion\n\n  export function serialize(\n    dappInfo: DappInfo,\n    args: ConnectRequest.Args = {},\n  ): SerializedWalletRequest<RequestName, CurrentVersion> {\n    return serializeWalletRequestWithArgs({ args, dappInfo, name, version: currentVersion }, serializeArgs);\n  }\n\n  export function deserialize(request: SerializedWalletRequest<RequestName, SupportedVersions>): ConnectRequest {\n    return deserializeWalletRequestWithArgs(request, (d) => deserializeArgs(d, request.version));\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, SupportedVersions> {\n    return request.name === name && supportedVersions.includes(request.version as SupportedVersions);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { DeserializeFn, SerializeFn } from './helpers';\n\nexport interface UserApproval<TApprovalArgs> {\n  args: TApprovalArgs;\n  status: 'approved';\n}\n\nexport interface UserDismissal {\n  status: 'dismissed';\n}\n\nexport type UserResponse<TApprovalArgs> = UserApproval<TApprovalArgs> | UserDismissal;\n\nexport function makeUserApproval<TApprovalArgs>(args: TApprovalArgs): UserApproval<TApprovalArgs> {\n  return { args, status: 'approved' };\n}\n\nexport function makeUserResponseSerializeFn<TArgs>(\n  serializeArgs: SerializeFn<TArgs>,\n): SerializeFn<UserResponse<TArgs>> {\n  return (serializer: Serializer, value: UserResponse<TArgs>) => {\n    serializer.serializeBool(value.status === 'approved');\n    if (value.status === 'approved') {\n      serializeArgs(serializer, value.args);\n    }\n  };\n}\n\nexport function makeUserResponseDeserializeFn<TArgs>(\n  deserializeArgs: DeserializeFn<TArgs>,\n): DeserializeFn<UserResponse<TArgs>> {\n  return (deserializer: Deserializer) => {\n    const isApproved = deserializer.deserializeBool();\n    return isApproved ? { args: deserializeArgs(deserializer), status: 'approved' } : { status: 'dismissed' };\n  };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { DeserializeFn, SerializeFn } from './helpers';\n\nexport interface WalletResponseWithArgs<TResponseArgs> {\n  args: TResponseArgs;\n}\n\nexport interface SerializedWalletResponse {\n  data: Uint8Array;\n}\n\nexport function serializeWalletResponse<TArgs>(args: TArgs, serializeFn: SerializeFn<TArgs>): SerializedWalletResponse {\n  const serializer = new Serializer();\n  serializeFn(serializer, args);\n  const data = serializer.toUint8Array();\n  return { data };\n}\n\nexport function deserializeWalletResponse<TArgs>(\n  { data }: SerializedWalletResponse,\n  deserializeFn: DeserializeFn<TArgs>,\n): WalletResponseWithArgs<TArgs> {\n  const deserializer = new Deserializer(data);\n  const args = deserializeFn(deserializer);\n  return { args };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { FinalizedPairingData, SerializedDate } from '@identity-connect/api';\nimport { type AccountInfo, deserializeAccountInfo, serializeAccountInfo } from '../../shared';\nimport { makeUserResponseDeserializeFn, makeUserResponseSerializeFn, UserResponse } from '../../UserResponse';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface ConnectResponse extends WalletResponseWithArgs<ConnectResponse.Args> {}\n\nexport namespace ConnectResponse {\n  export const supportedVersions = [1, 2] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n  export const currentVersion = 2 as const;\n\n  // region ApprovalArgs\n\n  export interface ApprovalArgs {\n    account: AccountInfo;\n    pairing?: SerializedDate<FinalizedPairingData>;\n  }\n\n  function serializeApprovalArgsV1(serializer: Serializer, value: ApprovalArgs) {\n    serializeAccountInfo(serializer, value.account);\n  }\n\n  function serializeApprovalArgs(serializer: Serializer, value: ApprovalArgs) {\n    serializeAccountInfo(serializer, value.account);\n    serializer.serializeOptionStr(value.pairing !== undefined ? JSON.stringify(value.pairing) : undefined);\n  }\n\n  function deserializeApprovalArgs(deserializer: Deserializer): ApprovalArgs {\n    const account = deserializeAccountInfo(deserializer);\n    const serializedPairing = deserializer.deserializeOptionStr();\n    const pairing = serializedPairing !== undefined ? JSON.parse(serializedPairing) : undefined;\n    return { account, pairing };\n  }\n\n  // endregion\n\n  // region ResponseArgs\n\n  export type Args = UserResponse<ApprovalArgs>;\n\n  const serializeArgsV1 = makeUserResponseSerializeFn(serializeApprovalArgsV1);\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);\n\n  // endregion\n\n  type _Response = ConnectResponse;\n\n  export function serialize(args: Args, version: SupportedVersions = currentVersion): SerializedWalletResponse {\n    return serializeWalletResponse(args, version === 1 ? serializeArgsV1 : serializeArgs);\n  }\n\n  export function deserialize(serializedResponse: SerializedWalletResponse): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { DappInfo } from '../../shared';\nimport {\n  deserializeWalletRequest,\n  SerializedWalletRequest,\n  serializeWalletRequest,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface DisconnectRequest\n  extends WalletRequest<DisconnectRequest.RequestName, DisconnectRequest.CurrentVersion> {}\n\nexport namespace DisconnectRequest {\n  export const name = 'disconnect' as const;\n  export type RequestName = typeof name;\n\n  export const currentVersion = 1 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  export function serialize(dappInfo: DappInfo): SerializedWalletRequest<RequestName, CurrentVersion> {\n    return serializeWalletRequest({ dappInfo, name, version: currentVersion });\n  }\n\n  export function deserialize(request: SerializedWalletRequest<RequestName, CurrentVersion>): DisconnectRequest {\n    return deserializeWalletRequest(request);\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, CurrentVersion> {\n    return request.name === name && request.version === currentVersion;\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface DisconnectResponse extends WalletResponseWithArgs<DisconnectResponse.Args> {}\n\nexport namespace DisconnectResponse {\n  export type Args = {};\n  type _Response = DisconnectResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, () => {});\n  }\n\n  export function deserialize(serializedResponse: SerializedWalletResponse): _Response {\n    return deserializeWalletResponse(serializedResponse, () => ({}));\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { DappInfo } from '../../shared';\nimport {\n  deserializeWalletRequest,\n  SerializedWalletRequest,\n  serializeWalletRequest,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface GetConnectedAccountsRequest\n  extends WalletRequest<GetConnectedAccountsRequest.RequestName, GetConnectedAccountsRequest.CurrentVersion> {}\n\nexport namespace GetConnectedAccountsRequest {\n  export const name = 'getConnectedAccounts' as const;\n  export type RequestName = typeof name;\n\n  export const currentVersion = 1 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  export function serialize(dappInfo: DappInfo): SerializedWalletRequest<RequestName, CurrentVersion> {\n    return serializeWalletRequest({ dappInfo, name, version: currentVersion });\n  }\n\n  export function deserialize(\n    request: SerializedWalletRequest<RequestName, CurrentVersion>,\n  ): GetConnectedAccountsRequest {\n    return deserializeWalletRequest(request);\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, CurrentVersion> {\n    return request.name === name && request.version === currentVersion;\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { type AccountInfo, deserializeAccountInfo, serializeAccountInfo } from '../../shared';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface GetConnectedAccountsResponse extends WalletResponseWithArgs<GetConnectedAccountsResponse.Args> {}\n\nexport namespace GetConnectedAccountsResponse {\n  // region Args\n\n  export type Args = AccountInfo[];\n\n  function serializeArgs(serializer: Serializer, args: Args) {\n    serializer.serializeU32AsUleb128(args.length);\n    for (const account of args) {\n      serializeAccountInfo(serializer, account);\n    }\n  }\n\n  function deserializeArgs(deserializer: Deserializer): Args {\n    const length = deserializer.deserializeUleb128AsU32();\n\n    const accounts: AccountInfo[] = [];\n    for (let i = 0; i < length; i += 1) {\n      accounts.push(deserializeAccountInfo(deserializer));\n    }\n\n    return accounts;\n  }\n\n  // endregion\n\n  type _Response = GetConnectedAccountsResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n\n  export function deserialize(serializedResponse: SerializedWalletResponse): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { DappInfo } from '../../shared';\nimport {\n  deserializeWalletRequest,\n  SerializedWalletRequest,\n  serializeWalletRequest,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface IsConnectedRequest\n  extends WalletRequest<IsConnectedRequest.RequestName, IsConnectedRequest.CurrentVersion> {}\n\nexport namespace IsConnectedRequest {\n  export const name = 'isConnected' as const;\n  export type RequestName = typeof name;\n\n  export const currentVersion = 1 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  export function serialize(dappInfo: DappInfo): SerializedWalletRequest<RequestName, CurrentVersion> {\n    return serializeWalletRequest({ dappInfo, name, version: currentVersion });\n  }\n\n  export function deserialize(request: SerializedWalletRequest<RequestName, CurrentVersion>): IsConnectedRequest {\n    return deserializeWalletRequest(request);\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, CurrentVersion> {\n    return request.name === name && request.version === currentVersion;\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface IsConnectedResponse extends WalletResponseWithArgs<IsConnectedResponse.Args> {}\n\nexport namespace IsConnectedResponse {\n  // region Args\n\n  export type Args = boolean;\n\n  function serializeArgs(serializer: Serializer, value: Args) {\n    serializer.serializeBool(value);\n  }\n\n  function deserializeArgs(deserializer: Deserializer): Args {\n    return deserializer.deserializeBool();\n  }\n\n  // endregion\n\n  type _Response = IsConnectedResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n\n  export function deserialize(serializedResponse: SerializedWalletResponse): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  Deserializer,\n  InputGenerateTransactionPayloadData,\n  Network,\n  Serializer,\n  TransactionPayload,\n} from '@aptos-labs/ts-sdk';\nimport { isSupportedNetwork } from '../../helpers';\nimport {\n  AccountAuthenticatorInput,\n  DappInfo,\n  deserializeAccountAuthenticatorInput,\n  deserializeTransactionPayloadInput,\n  serializeAccountAuthenticatorInput,\n  serializeTransactionPayloadInput,\n} from '../../shared';\nimport {\n  deserializeWalletRequestWithArgs,\n  SerializedWalletRequest,\n  serializeWalletRequestWithArgs,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface SignAndSubmitTransactionRequest\n  extends WalletRequest<\n    SignAndSubmitTransactionRequest.RequestName,\n    SignAndSubmitTransactionRequest.SupportedVersions\n  > {\n  args: SignAndSubmitTransactionRequest.Args;\n}\n\nexport namespace SignAndSubmitTransactionRequest {\n  export const name = 'signAndSubmitTransaction' as const;\n  export type RequestName = typeof name;\n\n  export const supportedVersions = [1, 2, 3] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n  export const currentVersion = 3 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  // region Args\n\n  export interface Args {\n    expirationTimestamp?: number;\n    feePayer?: AccountAuthenticatorInput;\n    gasUnitPrice?: number;\n    maxGasAmount?: number;\n    network?: Network;\n    payload: TransactionPayload | InputGenerateTransactionPayloadData;\n    signerAddress?: AccountAddress;\n  }\n\n  export function serializeArgs(serializer: Serializer, value: Args) {\n    if (value.network !== undefined && !isSupportedNetwork(value.network)) {\n      throw new Error(`Unsupported network '${value.network}'`);\n    }\n\n    serializer.serializeBool(value.signerAddress !== undefined);\n    if (value.signerAddress !== undefined) {\n      serializer.serialize(value.signerAddress);\n    }\n\n    serializer.serializeOptionStr(value.network);\n\n    if ('bcsToBytes' in value.payload) {\n      serializer.serializeBool(true);\n      serializer.serialize(value.payload);\n    } else {\n      serializer.serializeBool(false);\n      serializeTransactionPayloadInput(serializer, value.payload);\n    }\n\n    serializer.serializeU64(value.expirationTimestamp ?? 0);\n    serializer.serializeU32AsUleb128(value.gasUnitPrice ?? 0);\n    serializer.serializeU32AsUleb128(value.maxGasAmount ?? 0);\n    serializer.serializeU32AsUleb128(value.feePayer ? 1 : 0);\n    if (value.feePayer) {\n      serializeAccountAuthenticatorInput(serializer, value.feePayer);\n    }\n  }\n\n  export function deserializeArgs(deserializer: Deserializer, version: SupportedVersions): Args {\n    const hasSignerAddress = version >= 3 && deserializer.deserializeBool();\n    const signerAddress = hasSignerAddress ? deserializer.deserialize(AccountAddress) : undefined;\n\n    const network = version === 1 ? deserializer.deserializeStr() : deserializer.deserializeOptionStr();\n    if (network !== undefined && !isSupportedNetwork(network)) {\n      throw new Error(`Unsupported network '${network}'`);\n    }\n\n    const isPayloadBcsSerializable = version === 1 || deserializer.deserializeBool();\n    const payload = isPayloadBcsSerializable\n      ? deserializer.deserialize(TransactionPayload)\n      : deserializeTransactionPayloadInput(deserializer);\n    const expirationTimestamp = Number(deserializer.deserializeU64());\n    const gasUnitPrice = deserializer.deserializeUleb128AsU32();\n    const maxGasAmount = deserializer.deserializeUleb128AsU32();\n    const hasFeePayer = deserializer.deserializeUleb128AsU32();\n    const feePayer = hasFeePayer ? deserializeAccountAuthenticatorInput(deserializer) : undefined;\n\n    return {\n      expirationTimestamp: expirationTimestamp > 0 ? expirationTimestamp : undefined,\n      feePayer,\n      gasUnitPrice: gasUnitPrice > 0 ? gasUnitPrice : undefined,\n      maxGasAmount: maxGasAmount > 0 ? maxGasAmount : undefined,\n      network,\n      payload,\n      signerAddress,\n    };\n  }\n\n  // endregion\n\n  // region Request\n\n  export function serialize(dappInfo: DappInfo, args: Args): SerializedWalletRequest<RequestName, CurrentVersion> {\n    const request = { args, dappInfo, name, version: currentVersion };\n    return serializeWalletRequestWithArgs(request, serializeArgs);\n  }\n\n  export function deserialize(\n    serializedRequest: SerializedWalletRequest<RequestName, SupportedVersions>,\n  ): SignAndSubmitTransactionRequest {\n    return deserializeWalletRequestWithArgs(serializedRequest, (deserializer) =>\n      deserializeArgs(deserializer, serializedRequest.version),\n    );\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, SupportedVersions> {\n    return request.name === name && supportedVersions.includes(request.version as SupportedVersions);\n  }\n\n  // endregion\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { makeUserResponseDeserializeFn, makeUserResponseSerializeFn, UserResponse } from '../../UserResponse';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface SignAndSubmitTransactionResponse\n  extends WalletResponseWithArgs<SignAndSubmitTransactionResponse.Args> {}\n\nexport namespace SignAndSubmitTransactionResponse {\n  // region ApprovalArgs\n\n  export interface ApprovalArgs {\n    txnHash: string;\n  }\n\n  function serializeApprovalArgs(serializer: Serializer, value: ApprovalArgs) {\n    serializer.serializeStr(value.txnHash);\n  }\n\n  function deserializeApprovalArgs(deserializer: Deserializer): ApprovalArgs {\n    const txnHash = deserializer.deserializeStr();\n    return { txnHash };\n  }\n\n  // endregion\n\n  // region ResponseArgs\n\n  export type Args = UserResponse<ApprovalArgs>;\n\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);\n\n  // endregion\n\n  type _Response = SignAndSubmitTransactionResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n\n  export function deserialize(serializedResponse: SerializedWalletResponse): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { AccountAddress, Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { DappInfo } from '../../shared';\nimport {\n  deserializeWalletRequestWithArgs,\n  SerializedWalletRequest,\n  serializeWalletRequestWithArgs,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface SignMessageRequest\n  extends WalletRequest<SignMessageRequest.RequestName, SignMessageRequest.SupportedVersions> {\n  args: SignMessageRequest.Args;\n}\n\nexport namespace SignMessageRequest {\n  export const name = 'signMessage' as const;\n  export type RequestName = typeof name;\n\n  export const supportedVersions = [1, 2] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n  export const currentVersion = 2 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  // region Args\n\n  export interface Args {\n    chainId: number;\n    message: Uint8Array;\n    nonce: Uint8Array;\n    signerAddress?: AccountAddress;\n  }\n\n  function serializeArgs(serializer: Serializer, value: Args) {\n    serializer.serializeBool(value.signerAddress !== undefined);\n    if (value.signerAddress !== undefined) {\n      serializer.serialize(value.signerAddress);\n    }\n    serializer.serializeU8(value.chainId);\n    serializer.serializeBytes(value.nonce);\n    serializer.serializeBytes(value.message);\n  }\n\n  function deserializeArgs(deserializer: Deserializer, version: SupportedVersions): Args {\n    const hasSignerAddress = version >= 2 && deserializer.deserializeBool();\n    const signerAddress = hasSignerAddress ? deserializer.deserialize(AccountAddress) : undefined;\n    const chainId = deserializer.deserializeU8();\n    const nonce = deserializer.deserializeBytes();\n    const message = deserializer.deserializeBytes();\n    return { chainId, message, nonce, signerAddress };\n  }\n\n  // endregion\n\n  // region Request\n\n  export function serialize(dappInfo: DappInfo, args: Args): SerializedWalletRequest<RequestName, CurrentVersion> {\n    const request = { args, dappInfo, name, version: currentVersion };\n    return serializeWalletRequestWithArgs(request, serializeArgs);\n  }\n\n  export function deserialize(\n    serializedRequest: SerializedWalletRequest<RequestName, SupportedVersions>,\n  ): SignMessageRequest {\n    return deserializeWalletRequestWithArgs(serializedRequest, (d) => deserializeArgs(d, serializedRequest.version));\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, SupportedVersions> {\n    return request.name === name && request.version === currentVersion;\n  }\n\n  // endregion\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { Deserializer, Serializer, Signature } from '@aptos-labs/ts-sdk';\nimport { deserializeSignature, serializeSignature } from '../../shared';\nimport { makeUserResponseDeserializeFn, makeUserResponseSerializeFn, UserResponse } from '../../UserResponse';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface SignMessageResponse extends WalletResponseWithArgs<SignMessageResponse.Args> {}\n\nexport namespace SignMessageResponse {\n  // region ApprovalArgs\n\n  export interface ApprovalArgs {\n    // Should return message parts\n    fullMessage: string;\n    signature: Signature;\n  }\n\n  function serializeApprovalArgs(serializer: Serializer, value: ApprovalArgs) {\n    serializer.serializeStr(value.fullMessage);\n    serializeSignature(serializer, value.signature);\n  }\n\n  function deserializeApprovalArgs(deserializer: Deserializer): ApprovalArgs {\n    const fullMessage = deserializer.deserializeStr();\n    const signature = deserializeSignature(deserializer);\n    return { fullMessage, signature };\n  }\n\n  // endregion\n\n  // region ResponseArgs\n\n  export type Args = UserResponse<ApprovalArgs>;\n\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);\n\n  // endregion\n\n  type _Response = SignMessageResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n\n  export function deserialize(serializedResponse: SerializedWalletResponse): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport {\n  AccountAddress,\n  Deserializer,\n  InputGenerateTransactionPayloadData,\n  Network,\n  PublicKey,\n  RawTransaction,\n  Serializer,\n  TransactionPayload,\n} from '@aptos-labs/ts-sdk';\nimport { chainIdToNetwork, isSupportedNetwork } from '../../helpers';\nimport {\n  AccountInput,\n  DappInfo,\n  deserializeAccountInput,\n  deserializeTransactionPayloadInput,\n  serializeAccountInput,\n  serializeTransactionPayloadInput,\n} from '../../shared';\nimport {\n  deserializeWalletRequestWithArgs,\n  SerializedWalletRequest,\n  serializeWalletRequestWithArgs,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface SignTransactionRequest\n  extends WalletRequest<SignTransactionRequest.RequestName, SignTransactionRequest.SupportedVersions> {\n  args: SignTransactionRequest.Args;\n}\n\nexport namespace SignTransactionRequest {\n  export const name = 'signTransaction' as const;\n  export type RequestName = typeof name;\n\n  export const supportedVersions = [1, 2, 3, 4] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n  export const currentVersion = 4 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  // region Args\n\n  export interface Args {\n    expirationSecondsFromNow?: number;\n    expirationTimestamp?: number;\n    feePayer?: AccountInput;\n    gasUnitPrice?: number;\n    maxGasAmount?: number;\n    network?: Network;\n    payload: TransactionPayload | InputGenerateTransactionPayloadData;\n    secondarySigners?: AccountInput[];\n    sender?: AccountInput;\n    sequenceNumber?: number | bigint;\n    signerAddress?: AccountAddress;\n  }\n\n  export interface ArgsWithTransaction {\n    feePayer?: AccountInput;\n    secondarySigners?: AccountInput[];\n    senderPublicKey?: PublicKey;\n    signerAddress?: AccountAddress;\n    transaction: RawTransaction;\n  }\n\n  export function normalizeArgs(args: ArgsWithTransaction): Args {\n    const { feePayer, secondarySigners, senderPublicKey, signerAddress, transaction } = args;\n\n    const sender: AccountInput = {\n      address: transaction.sender,\n      publicKey: senderPublicKey,\n    };\n\n    const network = chainIdToNetwork(args.transaction.chain_id.chainId);\n\n    return {\n      expirationTimestamp: Number(transaction.expiration_timestamp_secs),\n      feePayer,\n      gasUnitPrice: Number(transaction.gas_unit_price),\n      maxGasAmount: Number(transaction.max_gas_amount),\n      network,\n      payload: transaction.payload,\n      secondarySigners,\n      sender,\n      signerAddress,\n    };\n  }\n\n  function serializeArgs(serializer: Serializer, value: Args) {\n    if (value.network !== undefined && !isSupportedNetwork(value.network)) {\n      throw new Error(`Unsupported network '${value.network}'`);\n    }\n\n    serializer.serializeBool(value.signerAddress !== undefined);\n    if (value.signerAddress !== undefined) {\n      serializer.serialize(value.signerAddress);\n    }\n\n    serializer.serializeOptionStr(value.network);\n    serializer.serializeBool(value.sender !== undefined);\n    if (value.sender !== undefined) {\n      serializeAccountInput(serializer, value.sender);\n    }\n\n    if ('bcsToBytes' in value.payload) {\n      serializer.serializeBool(true);\n      serializer.serialize(value.payload);\n    } else {\n      serializer.serializeBool(false);\n      serializeTransactionPayloadInput(serializer, value.payload);\n    }\n\n    serializer.serializeU32AsUleb128(value.expirationSecondsFromNow ?? 0);\n    serializer.serializeU64(value.expirationTimestamp ?? 0);\n    serializer.serializeU32AsUleb128(value.gasUnitPrice ?? 0);\n    serializer.serializeU32AsUleb128(value.maxGasAmount ?? 0);\n\n    serializer.serializeBool(value.feePayer !== undefined);\n    if (value.feePayer !== undefined) {\n      serializeAccountInput(serializer, value.feePayer);\n    }\n\n    const secondarySigners = value.secondarySigners ?? [];\n    serializer.serializeU32AsUleb128(secondarySigners.length);\n    for (const signer of secondarySigners) {\n      serializeAccountInput(serializer, signer);\n    }\n  }\n\n  function deserializeArgs(deserializer: Deserializer, version: SupportedVersions): Args {\n    const hasSignerAddress = version >= 3 && deserializer.deserializeBool();\n    const signerAddress = hasSignerAddress ? deserializer.deserialize(AccountAddress) : undefined;\n\n    const network = version === 1 ? deserializer.deserializeStr() : deserializer.deserializeOptionStr();\n    if (network !== undefined && !isSupportedNetwork(network)) {\n      throw new Error(`Unsupported network '${network}'`);\n    }\n\n    const hasSender = deserializer.deserializeBool();\n    const sender = hasSender ? deserializeAccountInput(deserializer) : undefined;\n\n    const isPayloadBcsSerializable = version < 4 || deserializer.deserializeBool();\n    const payload = isPayloadBcsSerializable\n      ? deserializer.deserialize(TransactionPayload)\n      : deserializeTransactionPayloadInput(deserializer);\n\n    const expirationSecondsFromNow = deserializer.deserializeUleb128AsU32();\n    const expirationTimestamp = Number(deserializer.deserializeU64());\n    const gasUnitPrice = deserializer.deserializeUleb128AsU32();\n    const maxGasAmount = deserializer.deserializeUleb128AsU32();\n\n    const hasFeePayer = deserializer.deserializeBool();\n    const feePayer = hasFeePayer ? deserializeAccountInput(deserializer) : undefined;\n\n    const secondarySignersLength = deserializer.deserializeUleb128AsU32();\n    const secondarySigners: AccountInput[] = [];\n    for (let i = 0; i < secondarySignersLength; i += 1) {\n      secondarySigners.push(deserializeAccountInput(deserializer));\n    }\n\n    return {\n      expirationSecondsFromNow: expirationSecondsFromNow > 0 ? expirationSecondsFromNow : undefined,\n      expirationTimestamp: expirationTimestamp > 0 ? expirationTimestamp : undefined,\n      feePayer,\n      gasUnitPrice: gasUnitPrice > 0 ? gasUnitPrice : undefined,\n      maxGasAmount: maxGasAmount > 0 ? maxGasAmount : undefined,\n      network,\n      payload,\n      secondarySigners,\n      sender,\n      signerAddress,\n    };\n  }\n\n  // endregion\n\n  // region Request\n\n  export function serialize(dappInfo: DappInfo, args: Args): SerializedWalletRequest<RequestName, CurrentVersion> {\n    const request = { args, dappInfo, name, version: currentVersion };\n    return serializeWalletRequestWithArgs(request, serializeArgs);\n  }\n\n  export function deserialize(\n    serializedRequest: SerializedWalletRequest<RequestName, SupportedVersions>,\n  ): SignTransactionRequest {\n    return deserializeWalletRequestWithArgs(serializedRequest, (deserializer) =>\n      deserializeArgs(deserializer, serializedRequest.version),\n    );\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, SupportedVersions> {\n    return request.name === name && supportedVersions.includes(request.version as SupportedVersions);\n  }\n\n  // endregion\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { AccountAuthenticator, Deserializer, RawTransaction, Serializer } from '@aptos-labs/ts-sdk';\nimport { makeUserResponseDeserializeFn, makeUserResponseSerializeFn, UserResponse } from '../../UserResponse';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface SignTransactionResponse extends WalletResponseWithArgs<SignTransactionResponse.Args> {}\n\nexport namespace SignTransactionResponse {\n  // region ApprovalArgs\n\n  export interface ApprovalArgs {\n    authenticator: AccountAuthenticator;\n    rawTransaction?: RawTransaction;\n  }\n\n  function serializeApprovalArgs(serializer: Serializer, value: ApprovalArgs) {\n    serializer.serialize(value.authenticator);\n    serializer.serializeBool(value.rawTransaction !== undefined);\n    if (value.rawTransaction !== undefined) {\n      serializer.serialize(value.rawTransaction);\n    }\n  }\n\n  function deserializeApprovalArgs(deserializer: Deserializer): ApprovalArgs {\n    const authenticator = deserializer.deserialize(AccountAuthenticator);\n    const hasRawTransaction = deserializer.deserializeBool();\n    const rawTransaction = hasRawTransaction ? deserializer.deserialize(RawTransaction) : undefined;\n\n    return {\n      authenticator,\n      rawTransaction,\n    };\n  }\n\n  // endregion\n\n  // region ResponseArgs\n\n  export type Args = UserResponse<ApprovalArgs>;\n\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);\n\n  // endregion\n\n  type _Response = SignTransactionResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n\n  export function deserialize(serializedResponse: SerializedWalletResponse): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nexport type TypedMessage<MessageType extends string = string> = { __messageType: MessageType };\nexport type TypedMessageConstructor<TMessage extends TypedMessage<MessageType>, MessageType extends string> = {\n  TYPE: MessageType;\n  new (...args: any[]): TMessage;\n};\n\nexport function isTypedMessage<TMessage extends TypedMessage<MessageType>, MessageType extends string>(\n  messageCls: TypedMessageConstructor<TMessage, MessageType>,\n  message: any,\n): message is TMessage {\n  return message?.__messageType === messageCls.TYPE;\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { AptosWalletError } from '@aptos-labs/wallet-standard';\nimport { SerializedWalletRequest } from '../WalletRequest';\nimport { SerializedWalletResponse } from '../WalletResponse';\nimport { isTypedMessage, TypedMessage } from './common';\n\nexport class AptosWalletRequestMessage implements TypedMessage {\n  static readonly TYPE = 'AptosWalletRequest';\n  readonly __messageType = AptosWalletRequestMessage.TYPE;\n\n  constructor(\n    public nonce: string,\n    public serializedValue: SerializedWalletRequest,\n  ) {}\n}\n\nexport class AptosWalletSuccessResponseMessage implements TypedMessage {\n  static readonly TYPE = 'AptosWalletSuccessResponseMessage';\n  readonly __messageType = AptosWalletSuccessResponseMessage.TYPE;\n\n  constructor(\n    public serializedValue: SerializedWalletResponse,\n    public nonce: string,\n  ) {}\n}\n\nexport class AptosWalletErrorResponseMessage implements TypedMessage {\n  static readonly TYPE = 'AptosWalletErrorResponseMessage';\n  readonly __messageType = AptosWalletErrorResponseMessage.TYPE;\n\n  constructor(\n    public error: AptosWalletError,\n    public nonce: string,\n  ) {}\n}\n\nexport type AptosWalletResponseMessage = AptosWalletSuccessResponseMessage | AptosWalletErrorResponseMessage;\n\nexport function isAptosWalletResponseMessage(message: any): message is AptosWalletResponseMessage {\n  return (\n    isTypedMessage(AptosWalletSuccessResponseMessage, message) ||\n    isTypedMessage(AptosWalletErrorResponseMessage, message)\n  );\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { base64ToBytes, bytesToBase64 } from '../base64';\nimport { SerializedWalletRequest } from '../WalletRequest';\nimport { SerializedWalletResponse } from '../WalletResponse';\nimport { TypedMessage } from './common';\n\nexport class PromptOpenerPingRequestMessage implements TypedMessage {\n  static readonly TYPE = 'PromptOpenerPingRequest';\n  readonly __messageType = PromptOpenerPingRequestMessage.TYPE;\n}\n\nexport class PromptOpenerPingResponseMessage implements TypedMessage {\n  static readonly TYPE = 'PromptOpenerPingResponse';\n  readonly __messageType = PromptOpenerPingResponseMessage.TYPE;\n}\n\nexport class PromptApprovalResponseMessage implements TypedMessage {\n  static readonly TYPE = 'PromptApprovalResponse';\n  readonly __messageType = PromptApprovalResponseMessage.TYPE;\n\n  constructor(public serializedValue: SerializedWalletResponse) {}\n}\n\nexport class PromptUnauthorizedErrorMessage implements TypedMessage {\n  static readonly TYPE = 'PromptUnauthorizedError';\n  readonly __messageType = PromptUnauthorizedErrorMessage.TYPE;\n}\n\nexport function urlEncodeWalletRequest(request: SerializedWalletRequest) {\n  const serializer = new Serializer();\n  serializer.serializeStr(request.name);\n  serializer.serializeBytes(request.data);\n  serializer.serializeStr(request.version.toString());\n  return bytesToBase64(serializer.toUint8Array());\n}\n\nexport function urlDecodeWalletRequest(encodedRequest: string): SerializedWalletRequest {\n  const deserializer = new Deserializer(base64ToBytes(encodedRequest));\n  const name = deserializer.deserializeStr();\n  const data = deserializer.deserializeBytes();\n\n  let version: number;\n  try {\n    version = Number(deserializer.deserializeStr());\n  } catch {\n    version = 1;\n  }\n  return { data, name, version };\n}\n"],"names":["AccountAddress","EntryFunctionArgumentVariant","SigningScheme","TransactionPayloadInputVariant","Serializer","Deserializer","ConnectRequest","ConnectResponse","DisconnectRequest","DisconnectResponse","GetConnectedAccountsRequest","GetConnectedAccountsResponse","IsConnectedRequest","IsConnectedResponse","SignAndSubmitTransactionRequest","SignAndSubmitTransactionResponse","SignMessageRequest","SignMessageResponse","SignTransactionRequest","TransactionPayload","SignTransactionResponse","AccountAuthenticator","RawTransaction"],"mappings":"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"}},
    {"offset": {"line": 1159, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1164, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/unexpected/node_modules/@aptos-connect/web-transport/src/index.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/web-transport/src/prompt.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/web-transport/src/state.ts"],"sourcesContent":["// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  ConnectRequest,\n  ConnectResponse,\n  DisconnectRequest,\n  DisconnectResponse,\n  GetConnectedAccountsRequest,\n  GetConnectedAccountsResponse,\n  IsConnectedRequest,\n  IsConnectedResponse,\n  SerializedWalletRequest,\n  SignAndSubmitTransactionRequest,\n  SignMessageRequest,\n  SignTransactionRequest,\n  urlEncodeWalletRequest,\n} from '@aptos-connect/wallet-api';\nimport { openPrompt, waitForPromptResponse } from './prompt';\nimport { addConnectedAccount, getConnectedAccounts, removeConnectedAccount } from './state';\n\nexport class WebWalletTransport {\n  constructor(private readonly baseUrl: string) {\n    this.baseUrl = baseUrl;\n  }\n\n  async sendPromptRequest(request: SerializedWalletRequest) {\n    const url = new URL(`${this.baseUrl}/prompt/`);\n    url.searchParams.set('request', urlEncodeWalletRequest(request));\n    const prompt = openPrompt(url);\n    return waitForPromptResponse(this.baseUrl, prompt);\n  }\n\n  async sendRequest(request: SerializedWalletRequest) {\n    switch (request.name) {\n      case IsConnectedRequest.name: {\n        const connectedAccounts = getConnectedAccounts();\n        return IsConnectedResponse.serialize(connectedAccounts.length > 0);\n      }\n      case GetConnectedAccountsRequest.name: {\n        const connectedAccounts = getConnectedAccounts();\n        return GetConnectedAccountsResponse.serialize(connectedAccounts);\n      }\n      case ConnectRequest.name: {\n        const serializedResponse = await this.sendPromptRequest(request);\n        const response = ConnectResponse.deserialize(serializedResponse);\n        if (response.args.status === 'approved') {\n          const { account, pairing } = response.args.args;\n          if (pairing === undefined) {\n            addConnectedAccount(account);\n          }\n        }\n        return serializedResponse;\n      }\n      case DisconnectRequest.name: {\n        const [activeAccount] = getConnectedAccounts();\n        if (activeAccount) {\n          removeConnectedAccount(activeAccount.address);\n        }\n        return DisconnectResponse.serialize({});\n      }\n      case SignMessageRequest.name:\n      case SignTransactionRequest.name:\n      case SignAndSubmitTransactionRequest.name: {\n        return this.sendPromptRequest(request);\n      }\n      default: {\n        throw new Error('Unexpected request');\n      }\n    }\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  ConnectResponse,\n  isTypedMessage,\n  PromptApprovalResponseMessage,\n  PromptOpenerPingRequestMessage,\n  PromptOpenerPingResponseMessage,\n  PromptUnauthorizedErrorMessage,\n  SerializedWalletResponse,\n} from '@aptos-connect/wallet-api';\n\nconst DEFAULT_PROMPT_SIZE = { height: 695, width: 465 };\nconst PROMPT_POLLER_INTERVAL = 500;\n\nconst dismissalSerializedResponse = ConnectResponse.serialize({ status: 'dismissed' });\n\nexport class PromptUnauthorizedError extends Error {\n  constructor() {\n    super('Unauthorized');\n  }\n}\n\nexport function openPrompt(url: string | URL, size = DEFAULT_PROMPT_SIZE) {\n  const { height, width } = size;\n  const options = {\n    height,\n    left: window.screenLeft + Math.round((window.outerWidth - width) / 2),\n    popup: true,\n    top: window.screenTop + Math.round((window.outerHeight - height) / 2),\n    width,\n  };\n\n  const strOptions = Object.entries(options)\n    .map(([key, value]) => `${key}=${JSON.stringify(value)}`)\n    .reduce((acc, entry) => `${acc}, ${entry}`);\n\n  const href = url instanceof URL ? url.href : url;\n  const promptWindow = window.open(href, undefined, strOptions);\n  if (promptWindow === null) {\n    throw new Error(\"Couldn't open prompt\");\n  }\n\n  return promptWindow;\n}\n\nexport async function waitForPromptResponse(baseUrl: string, promptWindow: Window) {\n  return new Promise<SerializedWalletResponse>((resolve, reject) => {\n    const listeners = {\n      onMessage: (message: MessageEvent) => {\n        // Ignore messages from untrusted sources\n        if (message.source !== promptWindow || message.origin !== baseUrl) {\n          return;\n        }\n        if (isTypedMessage(PromptUnauthorizedErrorMessage, message.data)) {\n          window.removeEventListener('message', listeners.onMessage);\n          clearTimeout(listeners.promptPollerId);\n          reject(new PromptUnauthorizedError());\n          return;\n        }\n        if (isTypedMessage(PromptOpenerPingRequestMessage, message.data)) {\n          promptWindow.postMessage(new PromptOpenerPingResponseMessage(), baseUrl);\n          return;\n        }\n        if (isTypedMessage(PromptApprovalResponseMessage, message.data)) {\n          window.removeEventListener('message', listeners.onMessage);\n          clearTimeout(listeners.promptPollerId);\n          resolve(message.data.serializedValue);\n        }\n      },\n      promptPollerId: setInterval(() => {\n        if (promptWindow.closed) {\n          window.removeEventListener('message', listeners.onMessage);\n          clearTimeout(listeners.promptPollerId);\n          resolve(dismissalSerializedResponse);\n        }\n      }, PROMPT_POLLER_INTERVAL),\n    };\n\n    window.addEventListener('message', listeners.onMessage);\n  });\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountInfo,\n  base64ToBytes,\n  bytesToBase64,\n  deserializeAccountInfo,\n  serializeAccountInfo,\n} from '@aptos-connect/wallet-api';\nimport { AccountAddress, Deserializer, Serializer } from '@aptos-labs/ts-sdk';\n\nconst localDappStateKey = '@aptos-connect/dapp-local-state';\n\n/**\n * Local dapp state loosely synced with the web wallet's state.\n * Due to browser restrictions (storage partitioning), it's no longer possible\n * to access the web wallet's state.\n */\ninterface DappLocalState {\n  connectedAccounts: AccountInfo[];\n}\n\nfunction serializeLocalDappState(state: DappLocalState): Uint8Array {\n  const serializer = new Serializer();\n  serializer.serializeU32AsUleb128(state.connectedAccounts.length);\n  for (const account of state.connectedAccounts) {\n    serializeAccountInfo(serializer, account);\n  }\n  return serializer.toUint8Array();\n}\n\nfunction deserializeLocalDappState(serializedValue: Uint8Array): DappLocalState {\n  const deserializer = new Deserializer(serializedValue);\n  const connectedAccountsLength = deserializer.deserializeUleb128AsU32();\n  const connectedAccounts: AccountInfo[] = [];\n  for (let i = 0; i < connectedAccountsLength; i += 1) {\n    connectedAccounts.push(deserializeAccountInfo(deserializer));\n  }\n  return { connectedAccounts };\n}\n\nfunction getState(): DappLocalState {\n  const encodedValue = window.localStorage.getItem(localDappStateKey);\n  return encodedValue ? deserializeLocalDappState(base64ToBytes(encodedValue)) : { connectedAccounts: [] };\n}\n\nfunction setState(state: DappLocalState) {\n  const serializedValue = serializeLocalDappState(state);\n  const encodedValue = bytesToBase64(serializedValue);\n  window.localStorage.setItem(localDappStateKey, encodedValue);\n}\n\nexport function getConnectedAccounts() {\n  const state = getState();\n  return state.connectedAccounts;\n}\n\nexport function addConnectedAccount(account: AccountInfo) {\n  const { connectedAccounts, ...state } = getState();\n  connectedAccounts.push(account);\n  setState({ ...state, connectedAccounts });\n}\n\nexport function removeConnectedAccount(address: AccountAddress) {\n  const { connectedAccounts, ...state } = getState();\n  const index = connectedAccounts.findIndex((a) => a.address.equals(address));\n  if (index >= 0) {\n    connectedAccounts.splice(index, 1);\n  }\n  setState({ ...state, connectedAccounts });\n}\n"],"names":["ConnectResponse"],"mappings":"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"}},
    {"offset": {"line": 1354, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1359, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-adapter-plugin/src/index.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-adapter-plugin/src/AptosConnectWallet.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-adapter-plugin/src/AptosConnectAccount.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-adapter-plugin/src/shared.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-adapter-plugin/src/AptosConnectWalletPlugin.ts","/turbopack/[project]/unexpected/node_modules/@aptos-connect/wallet-adapter-plugin/src/conversion.ts"],"sourcesContent":["// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { registerWallet } from '@aptos-labs/wallet-standard';\nimport { AptosConnectWallet, AptosConnectWalletConfig } from './AptosConnectWallet';\n\nexport * from './AptosConnectAccount';\nexport * from './AptosConnectWallet';\nexport * from './AptosConnectWalletPlugin';\n\nexport function registerAptosConnect(config: AptosConnectWalletConfig = {}) {\n  const walletPlugin = new AptosConnectWallet(config);\n  registerWallet(walletPlugin);\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { AccountInfo as ACAccountInfo } from '@aptos-connect/wallet-api';\nimport {\n  AccountAddress,\n  AnyRawTransaction,\n  Aptos,\n  AptosConfig,\n  Network,\n  NetworkToNodeAPI,\n  PendingTransactionResponse,\n} from '@aptos-labs/ts-sdk';\nimport {\n  AccountInfo,\n  APTOS_CHAINS,\n  AptosConnectNamespace,\n  AptosDisconnectNamespace,\n  AptosFeatures,\n  AptosGetAccountNamespace,\n  AptosGetNetworkNamespace,\n  AptosOnAccountChangeNamespace,\n  AptosOnNetworkChangeNamespace,\n  AptosSignAndSubmitTransactionFeature,\n  AptosSignAndSubmitTransactionInput,\n  AptosSignAndSubmitTransactionNamespace,\n  AptosSignAndSubmitTransactionOutput,\n  AptosSignMessageInput,\n  AptosSignMessageNamespace,\n  AptosSignMessageOutput,\n  AptosSignTransactionNamespace,\n  AptosSignTransactionOutput,\n  AptosWallet,\n  AptosWalletError,\n  AptosWalletErrorCode,\n  NetworkInfo,\n  UserResponse,\n  UserResponseStatus,\n} from '@aptos-labs/wallet-standard';\nimport { deserializePublicKeyB64, serializePublicKeyB64 } from '@identity-connect/crypto';\nimport { ACDappClient, ACDappClientConfig } from '@identity-connect/dapp-sdk';\nimport { AptosConnectAccount } from './AptosConnectAccount';\nimport { walletIcon, walletName, walletUrl } from './shared';\n\ninterface SerializedCurrentAccount {\n  address: string;\n  publicKey: string;\n}\n\nfunction customAccountToStandardAccount({ address, name, publicKey }: ACAccountInfo) {\n  return new AccountInfo({\n    address,\n    ansName: name,\n    publicKey,\n  });\n}\n\nexport interface AptosConnectWalletConfig extends Omit<ACDappClientConfig, 'defaultNetworkName'> {\n  network?: Network;\n}\n\nexport class AptosConnectWallet implements AptosWallet {\n  // region connectedAccount\n\n  private static connectedAccountStorageKey = '@aptos-connect/connectedAccount';\n\n  private static get connectedAccount(): AccountInfo | undefined {\n    const serialized = localStorage.getItem(AptosConnectWallet.connectedAccountStorageKey);\n    if (!serialized) {\n      return undefined;\n    }\n\n    try {\n      const { address, publicKey } = JSON.parse(serialized) as SerializedCurrentAccount;\n      return serialized\n        ? new AccountInfo({\n          address: AccountAddress.from(address),\n          publicKey: deserializePublicKeyB64(publicKey),\n        })\n        : undefined;\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.warn('Failed to parse state, resetting it');\n      this.connectedAccount = undefined;\n      return undefined;\n    }\n  }\n\n  private static set connectedAccount(value: AccountInfo | undefined) {\n    if (value !== undefined) {\n      const serialized: SerializedCurrentAccount = {\n        address: value.address.toString(),\n        publicKey: serializePublicKeyB64(value.publicKey),\n      };\n      localStorage.setItem(AptosConnectWallet.connectedAccountStorageKey, JSON.stringify(serialized));\n    } else {\n      localStorage.removeItem(AptosConnectWallet.connectedAccountStorageKey);\n    }\n  }\n\n  // endregion\n\n  // region AptosWallet\n\n  readonly name = walletName;\n  readonly version = '1.0.0';\n\n  readonly icon = walletIcon;\n  readonly url = walletUrl;\n\n  readonly chains = APTOS_CHAINS;\n\n  // eslint-disable-next-line class-methods-use-this\n  get accounts() {\n    const { connectedAccount } = AptosConnectWallet;\n    return connectedAccount ? [new AptosConnectAccount(connectedAccount)] : [];\n  }\n\n  get features(): AptosFeatures & AptosSignAndSubmitTransactionFeature {\n    return {\n      [AptosConnectNamespace]: {\n        connect: this.connect.bind(this),\n        version: '1.0.0',\n      },\n      [AptosDisconnectNamespace]: {\n        disconnect: this.disconnect.bind(this),\n        version: '1.0.0',\n      },\n      [AptosGetAccountNamespace]: {\n        account: this.getAccount.bind(this),\n        version: '1.0.0',\n      },\n      [AptosGetNetworkNamespace]: {\n        network: this.getNetwork.bind(this),\n        version: '1.0.0',\n      },\n      [AptosOnAccountChangeNamespace]: {\n        onAccountChange: this.onAccountChange.bind(this),\n        version: '1.0.0',\n      },\n      [AptosOnNetworkChangeNamespace]: {\n        onNetworkChange: this.onNetworkChange.bind(this),\n        version: '1.0.0',\n      },\n      [AptosSignAndSubmitTransactionNamespace]: {\n        signAndSubmitTransaction: this.signAndSubmitTransaction.bind(this),\n        version: '1.1.0',\n      },\n      [AptosSignMessageNamespace]: {\n        signMessage: this.signMessage.bind(this),\n        version: '1.0.0',\n      },\n      [AptosSignTransactionNamespace]: {\n        signTransaction: this.signTransaction.bind(this),\n        version: '1.0.0',\n      },\n    };\n  }\n\n  // endregion\n\n  // PetraWallet\n\n  private readonly aptosClient: Aptos;\n\n  private readonly client: ACDappClient;\n\n  constructor({ network = Network.MAINNET, ...clientConfig }: AptosConnectWalletConfig) {\n    this.client = new ACDappClient(clientConfig);\n\n    if (!NetworkToNodeAPI[network]) {\n      throw new Error('Network not supported');\n    }\n\n    const aptosConfig = new AptosConfig({ network });\n    this.aptosClient = new Aptos(aptosConfig);\n  }\n\n  async connect(): Promise<UserResponse<AccountInfo>> {\n    // If this is an auto-connect, try not opening the prompt\n    const { connectedAccount } = AptosConnectWallet;\n    if (connectedAccount !== undefined) {\n      return { args: connectedAccount, status: UserResponseStatus.APPROVED };\n    }\n\n    const response = await this.client.connect();\n    if (response.status === 'dismissed') {\n      return { status: UserResponseStatus.REJECTED };\n    }\n\n    const newConnectedAccount = customAccountToStandardAccount(response.args.account);\n    AptosConnectWallet.connectedAccount = newConnectedAccount;\n\n    return {\n      args: newConnectedAccount,\n      status: UserResponseStatus.APPROVED,\n    };\n  }\n\n  async disconnect() {\n    const { connectedAccount } = AptosConnectWallet;\n    if (connectedAccount) {\n      await this.client.disconnect(connectedAccount.address);\n      AptosConnectWallet.connectedAccount = undefined;\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getAccount(): Promise<AccountInfo> {\n    const { connectedAccount } = AptosConnectWallet;\n    if (!connectedAccount) {\n      // TODO: this function should fail gracefully\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n    return customAccountToStandardAccount(connectedAccount);\n  }\n\n  async getNetwork(): Promise<NetworkInfo> {\n    const { network } = this.aptosClient.config;\n    const chainId = await this.aptosClient.getChainId();\n    const url = NetworkToNodeAPI[network];\n    return {\n      chainId,\n      name: network,\n      url,\n    };\n  }\n\n  async signMessage(input: AptosSignMessageInput): Promise<UserResponse<AptosSignMessageOutput>> {\n    const { connectedAccount } = AptosConnectWallet;\n    if (!connectedAccount) {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n\n    const { chainId } = await this.getNetwork();\n    const { message, nonce } = input;\n\n    const encoder = new TextEncoder();\n    const messageBytes = encoder.encode(message);\n    const nonceBytes = encoder.encode(nonce);\n\n    const response = await this.client.signMessage({\n      chainId,\n      message: messageBytes,\n      nonce: nonceBytes,\n      signerAddress: connectedAccount.address,\n    });\n\n    if (response.status === 'dismissed') {\n      return { status: UserResponseStatus.REJECTED };\n    }\n\n    const { fullMessage, signature } = response.args;\n\n    const extraResponseArgs = {\n      address: connectedAccount.address.toString(),\n      application: '',\n      chainId,\n      message,\n      nonce,\n      prefix: 'APTOS' as const,\n    };\n\n    return {\n      args: {\n        fullMessage,\n        signature,\n        ...extraResponseArgs,\n      },\n      status: UserResponseStatus.APPROVED,\n    };\n  }\n\n  async signTransaction(\n    transaction: AnyRawTransaction,\n    _asFeePayer?: boolean,\n  ): Promise<UserResponse<AptosSignTransactionOutput>> {\n    const { connectedAccount } = AptosConnectWallet;\n    if (!connectedAccount) {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n\n    const feePayer = transaction.feePayerAddress ? { address: transaction.feePayerAddress } : undefined;\n    const secondarySigners = transaction.secondarySignerAddresses?.map((address) => ({ address }));\n    const response = await this.client.signTransaction({\n      feePayer,\n      secondarySigners,\n      signerAddress: connectedAccount.address,\n      transaction: transaction.rawTransaction,\n    });\n\n    if (response.status === 'dismissed') {\n      return { status: UserResponseStatus.REJECTED };\n    }\n\n    return {\n      args: response.args.authenticator,\n      status: UserResponseStatus.APPROVED,\n    };\n  }\n\n  async signAndSubmitTransaction(\n    args: AptosSignAndSubmitTransactionInput,\n  ): Promise<UserResponse<AptosSignAndSubmitTransactionOutput>> {\n    const { gasUnitPrice, maxGasAmount, payload } = args;\n\n    const { connectedAccount } = AptosConnectWallet;\n    if (!connectedAccount) {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n\n    const response = await this.client.signAndSubmitTransaction({\n      gasUnitPrice,\n      maxGasAmount,\n      network: this.aptosClient.config.network,\n      payload,\n      signerAddress: connectedAccount.address,\n    });\n\n    if (response.status === 'dismissed') {\n      return { status: UserResponseStatus.REJECTED };\n    }\n\n    // We should change the return type to only the hash. No point in returning the whole transaction object\n    const txnResponse = (await this.aptosClient.getTransactionByHash({\n      transactionHash: response.args.txnHash,\n    })) as PendingTransactionResponse;\n\n    return {\n      args: txnResponse,\n      status: UserResponseStatus.APPROVED,\n    };\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async onAccountChange(_callback?: (newAccount: AccountInfo) => void): Promise<void> {\n    // TODO\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async onNetworkChange(_callback?: (newNetwork: NetworkInfo) => void): Promise<void> {\n    // Not applicable\n  }\n\n  // endregion\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  AnyPublicKey,\n  Ed25519PublicKey,\n  MultiEd25519PublicKey,\n  MultiKey,\n  PublicKey,\n  SigningScheme,\n} from '@aptos-labs/ts-sdk';\nimport { AccountInfo, APTOS_CHAINS, AptosWalletAccount } from '@aptos-labs/wallet-standard';\n\nexport class AptosConnectAccount implements AptosWalletAccount {\n  // region AptosWalletAccount\n\n  readonly chains = APTOS_CHAINS;\n\n  get address() {\n    return this.#address.toString();\n  }\n\n  get publicKey() {\n    return this.#publicKey.toUint8Array();\n  }\n\n  get signingScheme() {\n    if (this.#publicKey instanceof Ed25519PublicKey) {\n      return SigningScheme.Ed25519;\n    }\n    if (this.#publicKey instanceof MultiEd25519PublicKey) {\n      return SigningScheme.MultiEd25519;\n    }\n    if (this.#publicKey instanceof AnyPublicKey) {\n      return SigningScheme.SingleKey;\n    }\n    if (this.#publicKey instanceof MultiKey) {\n      return SigningScheme.MultiKey;\n    }\n    throw new Error('Unsupported public key type');\n  }\n\n  readonly label?: string;\n\n  readonly features = [];\n\n  // endregion\n\n  // region PetraAccount\n\n  readonly #address: AccountAddress;\n\n  readonly #publicKey: PublicKey;\n\n  constructor({ address, ansName, publicKey }: AccountInfo) {\n    this.#publicKey = publicKey;\n    this.#address = address;\n    this.label = ansName;\n  }\n\n  // endregion\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nexport const walletName = 'Continue with Google';\nexport const walletUrl = 'https://aptosconnect.app';\nexport const walletIcon =\n  // eslint-disable-next-line max-len\n  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0iaF8yMCB3XzIwIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIzLjU0IDEyLjc2MTNDMjMuNTQgMTEuOTQ1OSAyMy40NjY4IDExLjE2MTggMjMuMzMwOSAxMC40MDkxSDEyLjVWMTQuODU3NUgxOC42ODkxQzE4LjQyMjUgMTYuMjk1IDE3LjYxMjMgMTcuNTEyOSAxNi4zOTQzIDE4LjMyODRWMjEuMjEzOEgyMC4xMTA5QzIyLjI4NTUgMTkuMjExOCAyMy41NCAxNi4yNjM2IDIzLjU0IDEyLjc2MTNaIiBmaWxsPSIjNDI4NUY0Ij48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi40OTk1IDIzLjk5OThDMTUuNjA0NSAyMy45OTk4IDE4LjIwNzcgMjIuOTcgMjAuMTEwNCAyMS4yMTM3TDE2LjM5MzggMTguMzI4MkMxNS4zNjQgMTkuMDE4MiAxNC4wNDY3IDE5LjQyNTkgMTIuNDk5NSAxOS40MjU5QzkuNTA0MjUgMTkuNDI1OSA2Ljk2OTAyIDE3LjQwMyA2LjA2NDcgMTQuNjg0OEgyLjIyMjY2VjE3LjY2NDRDNC4xMTQ5MyAyMS40MjI4IDguMDA0MDIgMjMuOTk5OCAxMi40OTk1IDIzLjk5OThaIiBmaWxsPSIjMzRBODUzIj48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA2NTIzIDE0LjY4NTFDNS44MzUyMyAxMy45OTUxIDUuNzA0NTUgMTMuMjU4MSA1LjcwNDU1IDEyLjUwMDFDNS43MDQ1NSAxMS43NDIyIDUuODM1MjMgMTEuMDA1MSA2LjA2NTIzIDEwLjMxNTFWNy4zMzU1N0gyLjIyMzE4QzEuNDQ0MzIgOC44ODgwNyAxIDEwLjY0NDQgMSAxMi41MDAxQzEgMTQuMzU1OCAxLjQ0NDMyIDE2LjExMjIgMi4yMjMxOCAxNy42NjQ3TDYuMDY1MjMgMTQuNjg1MVoiIGZpbGw9IiNGQkJDMDUiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjQ5OTUgNS41NzM4NkMxNC4xODc5IDUuNTczODYgMTUuNzAzOCA2LjE1NDA5IDE2Ljg5NTYgNy4yOTM2NEwyMC4xOTQgMy45OTUyM0MxOC4yMDI0IDIuMTM5NTUgMTUuNTk5MiAxIDEyLjQ5OTUgMUM4LjAwNDAyIDEgNC4xMTQ5MyAzLjU3NzA1IDIuMjIyNjYgNy4zMzU0NUw2LjA2NDcgMTAuMzE1QzYuOTY5MDIgNy41OTY4MiA5LjUwNDI1IDUuNTczODYgMTIuNDk5NSA1LjU3Mzg2WiIgZmlsbD0iI0VBNDMzNSI+PC9wYXRoPjwvc3ZnPg==';\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { AccountInfo as ACAccountInfo, SignAndSubmitTransactionRequest, UserResponse } from '@aptos-connect/wallet-api';\nimport {\n  AccountAddress,\n  AccountAuthenticator,\n  AccountAuthenticatorEd25519,\n  AccountAuthenticatorSingleKey,\n  Aptos,\n  AptosConfig,\n  Ed25519PublicKey,\n  Ed25519Signature,\n  InputGenerateTransactionPayloadData,\n  MultiEd25519PublicKey,\n  MultiKey,\n  Network,\n  NetworkToNodeAPI,\n  SignedTransaction,\n  TransactionAuthenticatorEd25519,\n  TransactionAuthenticatorSingleSender,\n  TransactionPayload,\n} from '@aptos-labs/ts-sdk';\nimport {\n  AccountInfo,\n  AdapterPlugin,\n  AnyRawTransaction,\n  InputTransactionData,\n  NetworkInfo,\n  SignMessagePayload,\n  SignMessageResponse,\n  WalletName,\n} from '@aptos-labs/wallet-adapter-core';\nimport { AptosWalletError, AptosWalletErrorCode } from '@aptos-labs/wallet-standard';\nimport { ACDappClient, ACDappClientConfig } from '@identity-connect/dapp-sdk';\nimport { TxnBuilderTypes, Types } from 'aptos';\nimport { convertPayloadInputFromV1ToV2, convertV1toV2 } from './conversion';\nimport { walletIcon, walletName, walletUrl } from './shared';\n\nfunction customAccountToStandardAccount({ address, name, publicKey }: ACAccountInfo): AccountInfo {\n  if (publicKey instanceof MultiEd25519PublicKey || publicKey instanceof MultiKey) {\n    throw new Error('Unsupported public key type');\n  }\n\n  return {\n    address: address.toString(),\n    ansName: name,\n    publicKey: publicKey.toString(),\n  };\n}\n\nfunction accountAuthenticatorToTransactionAuthenticator(accountAuthenticator: AccountAuthenticator) {\n  if (accountAuthenticator instanceof AccountAuthenticatorEd25519) {\n    return new TransactionAuthenticatorEd25519(accountAuthenticator.public_key, accountAuthenticator.signature);\n  }\n  if (accountAuthenticator instanceof AccountAuthenticatorSingleKey) {\n    if (accountAuthenticator.isEd25519()) {\n      return new TransactionAuthenticatorEd25519(\n        accountAuthenticator.public_key.publicKey as Ed25519PublicKey,\n        accountAuthenticator.signature.signature as Ed25519Signature,\n      );\n    }\n    return new TransactionAuthenticatorSingleSender(accountAuthenticator);\n  }\n  throw new Error('Cannot convert account authenticator to a compatible transaction authenticator');\n}\n\nfunction unwrapUserResponse<TArgs>(response: UserResponse<TArgs>) {\n  if (response.status === 'dismissed') {\n    throw new AptosWalletError(0, 'Rejected');\n  }\n  return response.args;\n}\n\n// Redefining interface, to include some arguments that production dapps are using\nexport interface TransactionOptions {\n  expirationSecondsFromNow?: number;\n  expirationTimestamp?: number;\n  gasUnitPrice?: number;\n  gas_unit_price?: number;\n  maxGasAmount?: number;\n  max_gas_amount?: number;\n  sender?: string;\n  sequenceNumber?: number;\n}\n\nexport interface AptosConnectWalletPluginConfig extends Omit<ACDappClientConfig, 'defaultNetworkName'> {\n  network?: Network;\n}\n\nexport class AptosConnectWalletPlugin implements AdapterPlugin {\n  // Hack to make this always available\n  readonly providerName = 'open';\n  readonly provider: typeof window.open | undefined;\n  readonly version = 'v2';\n\n  readonly name = walletName as WalletName;\n  readonly url = walletUrl;\n  readonly icon = walletIcon;\n\n  readonly client: ACDappClient;\n  readonly aptosClient: Aptos;\n\n  constructor({ network = Network.MAINNET, ...clientConfig }: AptosConnectWalletPluginConfig) {\n    this.client = new ACDappClient(clientConfig);\n\n    if (!NetworkToNodeAPI[network]) {\n      throw new Error('Network not supported');\n    }\n\n    const aptosConfig = new AptosConfig({ network });\n    this.aptosClient = new Aptos(aptosConfig);\n  }\n\n  // region connectedAccount\n  private static connectedAccountStorageKey = 'AptosConnectWalletPlugin.connectedAccount';\n\n  private static get connectedAccount(): AccountInfo | undefined {\n    const value = localStorage.getItem(AptosConnectWalletPlugin.connectedAccountStorageKey);\n    return value ? JSON.parse(value) : undefined;\n  }\n\n  private static set connectedAccount(value: AccountInfo | undefined) {\n    if (value !== undefined) {\n      localStorage.setItem(AptosConnectWalletPlugin.connectedAccountStorageKey, JSON.stringify(value));\n    } else {\n      localStorage.removeItem(AptosConnectWalletPlugin.connectedAccountStorageKey);\n    }\n  }\n\n  // endregion\n\n  async connect(): Promise<AccountInfo> {\n    // If this is an auto-connect, try not opening the prompt\n    const { connectedAccount } = AptosConnectWalletPlugin;\n    if (connectedAccount !== undefined) {\n      return connectedAccount;\n    }\n\n    const response = await this.client.connect();\n    if (response.status === 'dismissed') {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n\n    const newConnectedAccount = customAccountToStandardAccount(response.args.account);\n    AptosConnectWalletPlugin.connectedAccount = newConnectedAccount;\n    return newConnectedAccount;\n  }\n\n  async account(): Promise<AccountInfo> {\n    const [firstAccount] = await this.client.getConnectedAccounts();\n    if (firstAccount === undefined) {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n    return customAccountToStandardAccount(firstAccount);\n  }\n\n  async disconnect(): Promise<void> {\n    const { connectedAccount } = AptosConnectWalletPlugin;\n    if (connectedAccount) {\n      await this.client.disconnect(connectedAccount.address);\n      AptosConnectWalletPlugin.connectedAccount = undefined;\n    }\n  }\n\n  async signAndSubmitTransaction(\n    payloadV1InputOrGenerateTxnInput: Types.TransactionPayload | InputTransactionData,\n    optionsV1?: TransactionOptions,\n  ): Promise<{ hash: Types.HexEncodedBytes }> {\n    const { connectedAccount } = AptosConnectWalletPlugin;\n    if (!connectedAccount) {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n\n    let payload: TransactionPayload | InputGenerateTransactionPayloadData;\n    let options: Omit<SignAndSubmitTransactionRequest.Args, 'payload'>;\n\n    if ('data' in payloadV1InputOrGenerateTxnInput) {\n      const { data: payloadV2Input, options: optionsV2 } = payloadV1InputOrGenerateTxnInput;\n      payload = payloadV2Input;\n      options = {\n        expirationTimestamp: optionsV2?.expireTimestamp,\n        gasUnitPrice: optionsV2?.gasUnitPrice,\n        maxGasAmount: optionsV2?.maxGasAmount,\n        network: this.aptosClient.config.network,\n      };\n    } else {\n      payload = convertPayloadInputFromV1ToV2(payloadV1InputOrGenerateTxnInput);\n      options = {\n        expirationTimestamp: optionsV1?.expirationTimestamp,\n        gasUnitPrice: optionsV1?.gasUnitPrice ?? optionsV1?.gas_unit_price,\n        maxGasAmount: optionsV1?.maxGasAmount ?? optionsV1?.max_gas_amount,\n        network: this.aptosClient.config.network,\n      };\n    }\n\n    const response = await this.client.signAndSubmitTransaction({\n      signerAddress: AccountAddress.from(connectedAccount.address),\n      ...options,\n      payload,\n    });\n    const { txnHash } = unwrapUserResponse(response);\n    return { hash: txnHash };\n  }\n\n  async signAndSubmitBCSTransaction(\n    payloadV1: TxnBuilderTypes.TransactionPayload,\n    options?: any,\n  ): Promise<{ hash: Types.HexEncodedBytes }> {\n    const { connectedAccount } = AptosConnectWalletPlugin;\n    if (!connectedAccount) {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n    const payload = convertV1toV2(payloadV1, TransactionPayload);\n    const response = await this.client.signAndSubmitTransaction({\n      expirationTimestamp: options?.expirationTimestamp,\n      gasUnitPrice: options?.gasUnitPrice ?? options?.gas_unit_price,\n      maxGasAmount: options?.maxGasAmount ?? options?.max_gas_amount,\n      network: this.aptosClient.config.network,\n      payload,\n      signerAddress: AccountAddress.from(connectedAccount.address),\n    });\n    const { txnHash } = unwrapUserResponse(response);\n    return { hash: txnHash };\n  }\n\n  async signMessage(args: SignMessagePayload): Promise<SignMessageResponse> {\n    const { connectedAccount } = AptosConnectWalletPlugin;\n    if (!connectedAccount) {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n    const chainId = await this.aptosClient.getChainId();\n    const { message, nonce } = args;\n\n    const encoder = new TextEncoder();\n    const messageBytes = encoder.encode(message);\n    const nonceBytes = encoder.encode(nonce);\n\n    const response = await this.client.signMessage({\n      chainId,\n      message: messageBytes,\n      nonce: nonceBytes,\n      signerAddress: AccountAddress.from(connectedAccount.address),\n    });\n\n    const { fullMessage, signature } = unwrapUserResponse(response);\n\n    const extraResponseArgs = {\n      address: connectedAccount.address.toString(),\n      application: this.client.dappInfo.domain,\n      chainId,\n      message,\n      nonce,\n      prefix: 'APTOS' as const,\n    };\n\n    return {\n      fullMessage,\n      signature: signature.toString(),\n      ...extraResponseArgs,\n    };\n  }\n\n  async signTransaction(\n    transactionOrPayload: Types.TransactionPayload | TxnBuilderTypes.TransactionPayload | AnyRawTransaction,\n    optionsOrAsFeePayer?: TransactionOptions | boolean,\n  ): Promise<AccountAuthenticator | Uint8Array> {\n    const { connectedAccount } = AptosConnectWalletPlugin;\n    if (!connectedAccount) {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n\n    // If \"rawTransaction\" is part of the args, then we have a v2 request\n    if ('rawTransaction' in transactionOrPayload) {\n      const transaction = transactionOrPayload;\n      const feePayer = transaction.feePayerAddress ? { address: transaction.feePayerAddress } : undefined;\n      const secondarySigners = transaction.secondarySignerAddresses?.map((address) => ({ address }));\n      const response = await this.client.signTransaction({\n        feePayer,\n        secondarySigners,\n        signerAddress: AccountAddress.from(connectedAccount.address),\n        transaction: transaction.rawTransaction,\n      });\n      const { authenticator } = unwrapUserResponse(response);\n      return authenticator;\n    }\n\n    if (!(transactionOrPayload instanceof TxnBuilderTypes.TransactionPayload)) {\n      throw new Error('Not supported');\n    }\n\n    const payload = convertV1toV2(transactionOrPayload, TransactionPayload);\n    const options = optionsOrAsFeePayer as TransactionOptions | undefined;\n\n    const sender = options?.sender\n      ? {\n          address: AccountAddress.from(options.sender),\n        }\n      : undefined;\n\n    const response = await this.client.signTransaction({\n      expirationSecondsFromNow: options?.expirationSecondsFromNow,\n      expirationTimestamp: options?.expirationTimestamp,\n      gasUnitPrice: options?.gasUnitPrice ?? options?.gas_unit_price,\n      maxGasAmount: options?.maxGasAmount ?? options?.max_gas_amount,\n      network: this.aptosClient.config.network,\n      payload,\n      sender,\n      sequenceNumber: options?.sequenceNumber,\n      signerAddress: AccountAddress.from(connectedAccount.address),\n    });\n\n    const { authenticator, rawTransaction } = unwrapUserResponse(response);\n\n    if (rawTransaction === undefined) {\n      throw new Error('The wallet did not return a raw transaction');\n    }\n\n    const txnAuthenticator = accountAuthenticatorToTransactionAuthenticator(authenticator);\n    const signedTransaction = new SignedTransaction(rawTransaction, txnAuthenticator);\n    return signedTransaction.bcsToBytes();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async onNetworkChange(_callback?: (args: NetworkInfo) => void): Promise<void> {\n    // Not applicable\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async onAccountChange(_callback?: (args: AccountInfo) => void): Promise<void> {\n    // Not applicable\n  }\n\n  async network(): Promise<NetworkInfo> {\n    const { network } = this.aptosClient.config;\n    const chainId = await this.aptosClient.getChainId();\n    const url = NetworkToNodeAPI[network];\n    return {\n      chainId: chainId.toString(),\n      name: network,\n      url,\n    };\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, InputGenerateTransactionPayloadData, MoveFunctionId } from '@aptos-labs/ts-sdk';\nimport { BCS, Types } from 'aptos';\n\nexport type SerializableV1 = { serialize(serializer: BCS.Serializer): void };\nexport type DeserializableV2Class<T> = { deserialize(deserializer: Deserializer): T };\n\nexport function convertV1toV2<TV1 extends SerializableV1, TV2>(src: TV1, dst: DeserializableV2Class<TV2>) {\n  const serializedBytes = BCS.bcsToBytes(src);\n  const deserializerV2 = new Deserializer(serializedBytes);\n  return dst.deserialize(deserializerV2);\n}\n\nexport function convertPayloadInputFromV1ToV2(inputV1: Types.TransactionPayload): InputGenerateTransactionPayloadData {\n  if ('multisig_address' in inputV1) {\n    throw new Error('Multisig payload not supported');\n  }\n\n  if ('code' in inputV1) {\n    throw new Error('Script payload not supported');\n  }\n\n  if ('function' in inputV1) {\n    return {\n      function: inputV1.function as MoveFunctionId,\n      functionArguments: inputV1.arguments,\n      typeArguments: inputV1.type_arguments,\n    };\n  }\n\n  throw new Error('Unsupported payload type');\n}\n"],"names":["AccountInfo","APTOS_CHAINS","AccountAddress","customAccountToStandardAccount","MultiEd25519PublicKey","MultiKey","AptosWalletError","Network","ACDappClient","NetworkToNodeAPI","AptosConfig","Aptos","AptosWalletErrorCode","response","authenticator"],"mappings":"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"}},
    {"offset": {"line": 1987, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}